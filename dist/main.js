!function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);h.length;)h.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;s.push([32,1]),n()}({31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(11),o=n(6),i=n(12),l=n(9),c=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={addressBooks:[],addressBooksFiltered:[],selectedAddressBookIndex:null,isAdvanceSearchModalShow:!1,advanceSearch:{isFilterName:!0,isFilterLocation:!1,isFilterEmail:!1,isFilterPhone:!1}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ADDRESS_BOOK":var n=t.payload.map((function(e,t){return u({},e,{index:"".concat(e.email).concat(t)})}));return u({},e,{addressBooks:e.addressBooks.concat(n)});case"SET_SELECTED_ADDRESS_BOOK_INDEX":return u({},e,{selectedAddressBookIndex:t.payload});case"SET_ADDRESS_BOOK_FILTERED":return u({},e,{addressBooksFiltered:[].concat(t.payload)});case"SET_ADVANCE_SEARCH":return u({},e,{advanceSearch:Object.assign({},t.payload)});case"TOGGLE_ADVANCE_SEARCH_MODAL":return u({},e,{isAdvanceSearchModalShow:t.payload});default:return e}},m=Object(i.b)(p),v=n(8),f=n.n(v),k=n(10),E=n.n(k),b=n(1),y=n.n(b),g=n(2),S=n.n(g),B=n(3),x=n.n(B),N=n(4),O=n.n(N),C=n(7),A=n.n(C),D=n(5),P=n.n(D),F=function(e){return{type:"SET_SELECTED_ADDRESS_BOOK_INDEX",payload:e}},j=function(e){return{type:"SET_ADDRESS_BOOK_FILTERED",payload:e}},w=function(e){return{type:"TOGGLE_ADVANCE_SEARCH_MODAL",payload:e}},I="https://randomuser.me/api",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=new URL("".concat(I).concat(e));return null!=n&&Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a,t).then((function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})})).catch((function(e){return console.log("Fetch exception",e)}))},M=function(e){function t(){return y()(this,t),x()(this,O()(t).apply(this,arguments))}return P()(t,e),S()(t,[{key:"handleBackButton",value:function(){this.props.setSelectedAddressBookIndex(null)}},{key:"handleDarkModeButton",value:function(){this.props.handleDarkModeToggle()}},{key:"backButtonComponent",value:function(){var e=this;return r.a.createElement("img",{className:"button-back",src:"./images/ic-back.svg",title:"Back",tabIndex:"0",alt:"",onKeyPress:function(t){return"Enter"==t.key&&e.handleBackButton()},onClick:function(){return e.handleBackButton()}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app-title"},null!==this.props.selectedAddressBookIndex&&this.backButtonComponent(),r.a.createElement("h1",null,"Address Book App"),r.a.createElement("img",{className:"button-darkmode",src:this.props.isDarkModeEnabled?"./images/ic-dark-enabled.svg":"./images/ic-dark-disabled.svg",title:this.props.isDarkModeEnabled?"Turn off dark mode":"Turn on dark mode",tabIndex:"0",alt:"",onKeyPress:function(t){return"Enter"==t.key&&e.handleDarkModeButton()},onClick:function(){return e.handleDarkModeButton()}}))}}]),t}(a.Component),L=Object(o.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(F(t))}}}))(M),T=function(e){function t(){return y()(this,t),x()(this,O()(t).apply(this,arguments))}return P()(t,e),S()(t,[{key:"handleFocus",value:function(){this.props.setSelectedAddressBookIndex(this.props.index)}},{key:"render",value:function(){var e,t,n,a,s,o,i,l,c=this,d=this.props.item,u=this.props.selectedAddressBookIndex===this.props.index?" active":"";return r.a.createElement("li",{tabIndex:"0",className:"address-item".concat(u),onFocus:function(){return c.handleFocus()}},r.a.createElement("img",{src:null===(e=d.picture)||void 0===e?void 0:e.thumbnail,width:"82",alt:"".concat(null===(t=d.name)||void 0===t?void 0:t.first," ").concat(null===(n=d.name)||void 0===n?void 0:n.last)}),r.a.createElement("div",null,r.a.createElement("p",{className:"name"},r.a.createElement("strong",null,"".concat(null===(a=d.name)||void 0===a?void 0:a.first," ").concat(null===(s=d.name)||void 0===s?void 0:s.last))),r.a.createElement("p",null,"".concat(null===(o=d.location)||void 0===o?void 0:o.city,", ").concat(null===(i=d.location)||void 0===i?void 0:i.state,", ").concat(null===(l=d.location)||void 0===l?void 0:l.country))))}}]),t}(a.Component),K=Object(o.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(F(t))}}}))(T),R=function(e){function t(e){var n;return y()(this,t),(n=x()(this,O()(t).call(this,e))).state={searchQuery:""},n.handleChange=n.handleChange.bind(A()(n)),n.handleClearButton=n.handleClearButton.bind(A()(n)),n.handleFilterButton=n.handleFilterButton.bind(A()(n)),n.doSearch=n.doSearch.bind(A()(n)),n}return P()(t,e),S()(t,[{key:"componentDidUpdate",value:function(e){this.props.advanceSearch!==e.advanceSearch&&this.doSearch()}},{key:"buttonClearComponent",value:function(){var e=this;return r.a.createElement("img",{className:"button-clear",src:"./images/ic-close.svg",title:"Clear search",tabIndex:"0",alt:"",onKeyPress:function(t){return"Enter"==t.key&&e.handleClearButton()},onClick:this.handleClearButton})}},{key:"badgeComponent",value:function(){var e=this,t=Object.keys(this.props.advanceSearch).filter((function(t){if(e.props.advanceSearch[t])return t}));if(!(t.length<2&&"isFilterName"==t[0]))return t.map((function(e,t){var n=e.replace("isFilter","");return r.a.createElement("span",{key:t,className:"badge"},n)}))}},{key:"handleClearButton",value:function(){var e=this;this.setState({searchQuery:""},(function(){e.doSearch()}))}},{key:"handleFilterButton",value:function(){this.props.toggleAdvanceSearch(!this.props.isAdvanceSearchModalShow)}},{key:"handleChange",value:function(e){var t=this,n=e.target.value;this.setState({searchQuery:n},(function(){t.doSearch()}))}},{key:"doSearch",value:function(){var e=this,t=this.props.advanceSearch,n=t.isFilterName,a=t.isFilterLocation,r=t.isFilterEmail,s=t.isFilterPhone,o=this.props.addressBooks.filter((function(t){var o,i,l,c,d,u,h=new RegExp(e.state.searchQuery,"gi"),p=!1,m=!1,v=!1,f=!1;n&&(p=h.test("".concat(null===(o=t.name)||void 0===o?void 0:o.first," ").concat(null===(i=t.name)||void 0===i?void 0:i.last)));a&&(m=h.test(null===(l=t.location)||void 0===l?void 0:l.street)||h.test(null===(c=t.location)||void 0===c?void 0:c.city)||h.test(null===(d=t.location)||void 0===d?void 0:d.state)||h.test(null===(u=t.location)||void 0===u?void 0:u.postcode));if(r&&(v=h.test(t.email)),s&&(f=h.test(t.cell)),p||m||v||f)return t}));this.props.setSelectedAddressBookIndex(null),this.props.setAddressBookFiltered(o)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"address-search"},r.a.createElement("div",{className:"search-input"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search",value:this.state.searchQuery,onChange:this.handleChange}),""!==this.state.searchQuery&&this.buttonClearComponent()),r.a.createElement("img",{className:"button-filter",src:"./images/ic-filter.svg",title:"Filter",tabIndex:"0",alt:"",onKeyPress:function(t){return"Enter"==t.key&&e.handleFilterButton()},onClick:this.handleFilterButton}),r.a.createElement("div",{className:"search-advance"},this.badgeComponent()))}}]),t}(a.Component),H=Object(o.b)((function(e){return{addressBooks:e.addressBooks,isAdvanceSearchModalShow:e.isAdvanceSearchModalShow,advanceSearch:e.advanceSearch}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(F(t))},setAddressBookFiltered:function(t){return e(j(t))},toggleAdvanceSearch:function(t){return e(w(t))}}}))(R),Q=function(e){function t(){return y()(this,t),x()(this,O()(t).apply(this,arguments))}return P()(t,e),S()(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"empty-state"},r.a.createElement("img",{src:this.props.image,width:"200",alt:this.props.text}),r.a.createElement("p",null,r.a.createElement("strong",null,this.props.text)))}}]),t}(a.Component),G=function(e){function t(e){var n;return y()(this,t),(n=x()(this,O()(t).call(this,e))).handleScroll=n.handleScroll.bind(A()(n)),n}return P()(t,e),S()(t,[{key:"handleScroll",value:function(e){e.target.scrollHeight-e.target.scrollTop<=e.target.clientHeight+300&&this.props.handleNextPage()}},{key:"emptyStateComponent",value:function(){return r.a.createElement(Q,{image:"./images/empty-results.svg",text:"No data"})}},{key:"addressBooksComponent",value:function(){return this.props.addressBooksFiltered.map((function(e,t){return r.a.createElement(K,{key:e.index,item:e,index:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"address-sidebar"},r.a.createElement(H,null),r.a.createElement("ul",{className:"address-list",tabIndex:"0",onScroll:this.handleScroll},this.props.isLoading?"Loading":this.addressBooksComponent(),!this.props.isLoading&&0===this.props.addressBooksFiltered.length&&this.emptyStateComponent()))}}]),t}(a.Component),V=Object(o.b)((function(e){return{addressBooksFiltered:e.addressBooksFiltered}}))(G),J=function(e){function t(){return y()(this,t),x()(this,O()(t).apply(this,arguments))}return P()(t,e),S()(t,[{key:"emptyStateComponent",value:function(){return r.a.createElement(Q,{image:"./images/empty-address-book.svg",text:"Please select a contact"})}},{key:"addressBookComponent",value:function(){var e,t,n,a,s,o,i,l,c,d,u="".concat(null===(e=this.props.addressBook.name)||void 0===e?void 0:e.first," ").concat(null===(t=this.props.addressBook.name)||void 0===t?void 0:t.last),h=null===(n=this.props.addressBook.picture)||void 0===n?void 0:n.large,p="".concat(null===(a=this.props.addressBook.location)||void 0===a||null===(s=a.street)||void 0===s?void 0:s.number," ").concat(null===(o=this.props.addressBook.location)||void 0===o||null===(i=o.street)||void 0===i?void 0:i.name);return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-head"},r.a.createElement("div",{className:"profile-photo"},r.a.createElement("img",{src:h,alt:u,width:"128"})),r.a.createElement("h3",null,u)),r.a.createElement("div",{className:"profile-section"},r.a.createElement("h4",null,"Contact"),r.a.createElement("div",{className:"profile-card"},r.a.createElement("p",{className:"title"},"Email"),r.a.createElement("p",{className:"subtitle"},r.a.createElement("a",{href:"mailto:".concat(this.props.addressBook.email)},this.props.addressBook.email)),r.a.createElement("p",{className:"title"},"Phone"),r.a.createElement("p",{className:"subtitle"},r.a.createElement("a",{href:"tel:".concat(this.props.addressBook.cell)},this.props.addressBook.cell)))),r.a.createElement("div",{className:"profile-section"},r.a.createElement("h4",null,"Location"),r.a.createElement("div",{className:"profile-card"},r.a.createElement("p",{className:"title"},"Address"),r.a.createElement("p",{className:"subtitle"},p),r.a.createElement("p",{className:"title"},"Zip Code"),r.a.createElement("p",{className:"subtitle"},null===(l=this.props.addressBook.location)||void 0===l?void 0:l.postcode),r.a.createElement("p",{className:"title"},"City"),r.a.createElement("p",{className:"subtitle"},null===(c=this.props.addressBook.location)||void 0===c?void 0:c.city),r.a.createElement("p",{className:"title"},"State"),r.a.createElement("p",{className:"subtitle"},null===(d=this.props.addressBook.location)||void 0===d?void 0:d.state))))}},{key:"render",value:function(){var e=this.props.addressBook?this.addressBookComponent():this.emptyStateComponent(),t=null!==this.props.selectedAddressBookIndex?" active":"";return r.a.createElement("div",{className:"address-detail".concat(t)},e)}}]),t}(a.Component),U=Object(o.b)((function(e){return{addressBook:null!==e.selectedAddressBookIndex?e.addressBooksFiltered[e.selectedAddressBookIndex]:null,selectedAddressBookIndex:e.selectedAddressBookIndex}}))(J),X=function(e){function t(e){var n;return y()(this,t),(n=x()(this,O()(t).call(this,e))).state={isFilterName:!0,isFilterLocation:!1,isFilterEmail:!1,isFilterPhone:!1},n.handleCloseButton=n.handleCloseButton.bind(A()(n)),n.handleChange=n.handleChange.bind(A()(n)),n.handleEnter=n.handleEnter.bind(A()(n)),n.handleSaveButton=n.handleSaveButton.bind(A()(n)),n}var n;return P()(t,e),S()(t,[{key:"handleCloseButton",value:function(){this.props.toggleAdvanceSearch(!this.props.isAdvanceSearchModalShow),this.setState(this.props.advanceSearch)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.checked;this.setState(c()({},n,a))}},{key:"handleEnter",value:function(){var e=event.target,t=e.name,n=e.checked;"Enter"==event.key&&this.setState(c()({},t,!n))}},{key:"handleSaveButton",value:(n=E()(f.a.mark((function e(){var t,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(this.state).every((function(e){return!n.state[e]}))){e.next=5;break}alert("Please select minimal 1"),e.next=9;break;case 5:return t={isFilterName:this.state.isFilterName,isFilterLocation:this.state.isFilterLocation,isFilterEmail:this.state.isFilterEmail,isFilterPhone:this.state.isFilterPhone},e.next=8,this.props.setAdvanceSearch(t);case 8:this.handleCloseButton();case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.isAdvanceSearchModalShow?" show":"";return r.a.createElement("div",{className:"modal".concat(t)},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("img",{className:"button-close",src:"./images/ic-close.svg",title:"Close modal",tabIndex:"0",alt:"",onKeyPress:function(t){return"Enter"==t.key&&e.handleCloseButton()},onClick:this.handleCloseButton}),r.a.createElement("div",{className:"modal-head"},"Advance Search"),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{className:"checkbox"},"Search Name",r.a.createElement("input",{type:"checkbox",tabIndex:"0",name:"isFilterName",checked:this.state.isFilterName,onKeyPress:this.handleEnter,onChange:this.handleChange}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"checkbox"},"Search Location",r.a.createElement("input",{type:"checkbox",tabIndex:"0",name:"isFilterLocation",checked:this.state.isFilterLocation,onKeyPress:this.handleEnter,onChange:this.handleChange}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"checkbox"},"Search Email",r.a.createElement("input",{type:"checkbox",tabIndex:"0",name:"isFilterEmail",checked:this.state.isFilterEmail,onKeyPress:this.handleEnter,onChange:this.handleChange}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"checkbox"},"Search Phone",r.a.createElement("input",{type:"checkbox",tabIndex:"0",name:"isFilterPhone",checked:this.state.isFilterPhone,onKeyPress:this.handleEnter,onChange:this.handleChange}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("p",null,r.a.createElement("small",null,"Please select minimal 1"))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"button",tabIndex:"0",onClick:this.handleSaveButton},"Save"))))}}]),t}(a.Component),Z=Object(o.b)((function(e){return{isAdvanceSearchModalShow:e.isAdvanceSearchModalShow,advanceSearch:e.advanceSearch}}),(function(e){return{setAdvanceSearch:function(t){return e({type:"SET_ADVANCE_SEARCH",payload:t})},toggleAdvanceSearch:function(t){return e(w(t))}}}))(X);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){function t(e){var n;return y()(this,t),(n=x()(this,O()(t).call(this,e))).state={isLoading:!1,isHandleNextPage:!1,isDarkModeEnabled:!1,params:{page:1,results:50,seed:"yop",exc:"gender,login,dob,registered,phone,nat"}},n.handleNextPage=n.handleNextPage.bind(A()(n)),n.handleDarkModeToggle=n.handleDarkModeToggle.bind(A()(n)),n}var n,a;return P()(t,e),S()(t,[{key:"componentDidMount",value:function(){this.handleInitData()}},{key:"handleDarkModeToggle",value:function(){this.setState((function(e){return{isDarkModeEnabled:!e.isDarkModeEnabled}}))}},{key:"handleNextPage",value:(a=E()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.isHandleNextPage||!(this.props.addressBooks.length<1e3)){e.next=10;break}return e.next=3,this.setState((function(e){return{isHandleNextPage:!0,params:z({},e.params,{page:e.params.page+1})}}));case 3:return e.next=5,_("",{},this.state.params);case 5:return t=e.sent,e.next=8,this.props.addAddressBook((null==t?void 0:t.results)||[]);case 8:this.props.setAddressBookFiltered(this.props.addressBooks),this.setState({isHandleNextPage:!1});case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"handleInitData",value:(n=E()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,_("",{},this.state.params);case 3:return t=e.sent,this.setState({isLoading:!1}),e.next=7,this.props.addAddressBook((null==t?void 0:t.results)||[]);case 7:this.props.setAddressBookFiltered(this.props.addressBooks);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.isDarkModeEnabled?" dark-mode":"";return r.a.createElement("main",{className:"container".concat(e)},r.a.createElement(L,{isDarkModeEnabled:this.state.isDarkModeEnabled,handleDarkModeToggle:this.handleDarkModeToggle}),r.a.createElement(V,{isLoading:this.state.isLoading,handleNextPage:this.handleNextPage}),r.a.createElement(U,null),r.a.createElement(Z,null))}}]),t}(a.Component),Y=Object(o.b)((function(e){return{addressBooks:e.addressBooks}}),(function(e){return{addAddressBook:function(t){return e({type:"ADD_ADDRESS_BOOK",payload:t})},setAddressBookFiltered:function(t){return e(j(t))}}}))(W),$=(n(31),document.getElementById("app"));$&&Object(s.render)(r.a.createElement(o.a,{store:m},r.a.createElement(Y,null)),$)}});