!function(e){function t(t){for(var a,r,l=t[0],i=t[1],d=t[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(c&&c(t);p.length;)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={0:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=i;s.push([31,1]),n()}({30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(7),r=n(1),l=n(8),i={addressBooks:[],addressBooksFiltered:[],selectedAddressBookIndex:null,isDarkModeEnabled:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"ADD_ADDRESS_BOOK"===t.type?Object.assign({},e,{addressBooks:e.addressBooks.concat(t.payload)}):"SET_SELECTED_ADDRESS_BOOK_INDEX"===t.type?Object.assign({},e,{selectedAddressBookIndex:t.payload}):"SET_ADDRESS_BOOK_FILTERED"===t.type?Object.assign({},e,{addressBooksFiltered:[].concat(t.payload)}):"SET_DARK_MODE"===t.type?Object.assign({},e,{isDarkModeEnabled:t.payload}):e},c=Object(l.b)(d),u=n(13),p=n.n(u),m=n(16),h=n.n(m),f=n(2),v=n.n(f),k=n(3),E=n.n(k),B=n(4),b=n.n(B),y=n(5),g=n.n(y),D=n(6),A=n.n(D),O=function(e){return{type:"SET_SELECTED_ADDRESS_BOOK_INDEX",payload:e}},S=function(e){return{type:"SET_ADDRESS_BOOK_FILTERED",payload:e}},x="https://randomuser.me/api",N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=new URL("".concat(x).concat(e));return null!=n&&Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),fetch(a,t).then((function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})})).catch((function(e){return console.log("Fetch exception",e)}))},_=function(e){function t(){return v()(this,t),b()(this,g()(t).apply(this,arguments))}return A()(t,e),E()(t,[{key:"handleBackButton",value:function(){this.props.setSelectedAddressBookIndex(null)}},{key:"handleDarkModeButton",value:function(){this.props.setDarkMode(!this.props.isDarkModeEnabled)}},{key:"backButtonComponent",value:function(){var e=this;return o.a.createElement("img",{className:"button-back",src:"./images/ic-back.svg",title:"Back",onClick:function(){return e.handleBackButton()}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app-title"},null!==this.props.selectedAddressBookIndex&&this.backButtonComponent(),o.a.createElement("h1",null,"Address Book App"),o.a.createElement("img",{className:"button-darkmode",src:this.props.isDarkModeEnabled?"./images/ic-dark-enabled.svg":"./images/ic-dark-disabled.svg",title:this.props.isDarkModeEnabled?"Turn off dark mode":"Turn on dark mode",onClick:function(){return e.handleDarkModeButton()}}))}}]),t}(a.Component),C=Object(r.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex,isDarkModeEnabled:e.isDarkModeEnabled}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(O(t))},setDarkMode:function(t){return e({type:"SET_DARK_MODE",payload:t})}}}))(_),I=function(e){function t(){return v()(this,t),b()(this,g()(t).apply(this,arguments))}return A()(t,e),E()(t,[{key:"handleFocus",value:function(){this.props.setSelectedAddressBookIndex(this.props.index)}},{key:"render",value:function(){var e,t,n,a,s,r,l,i,d=this,c=this.props.item,u=this.props.selectedAddressBookIndex===this.props.index?" active":"";return o.a.createElement("li",{tabIndex:"0",className:"address-item".concat(u),onFocus:function(){return d.handleFocus()}},o.a.createElement("img",{src:null===(e=c.picture)||void 0===e?void 0:e.thumbnail,width:"82",alt:"".concat(null===(t=c.name)||void 0===t?void 0:t.first," ").concat(null===(n=c.name)||void 0===n?void 0:n.last)}),o.a.createElement("div",null,o.a.createElement("p",{className:"name"},o.a.createElement("strong",null,"".concat(null===(a=c.name)||void 0===a?void 0:a.first," ").concat(null===(s=c.name)||void 0===s?void 0:s.last))),o.a.createElement("p",null,"".concat(null===(r=c.location)||void 0===r?void 0:r.city,", ").concat(null===(l=c.location)||void 0===l?void 0:l.state,", ").concat(null===(i=c.location)||void 0===i?void 0:i.country))))}}]),t}(a.Component),j=Object(r.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(O(t))}}}))(I),M=n(10),F=n.n(M),w=function(e){function t(e){var n;return v()(this,t),(n=b()(this,g()(t).call(this,e))).state={searchQuery:"",isFilterName:!0},n.handleChange=n.handleChange.bind(F()(n)),n}return A()(t,e),E()(t,[{key:"handleChange",value:function(e){var t=this,n=e.target.value;this.props.setSelectedAddressBookIndex(null),this.setState({searchQuery:n});var a=this.props.addressBooks.filter((function(e){var a,o,s=new RegExp(n,"gi"),r=!1;t.state.isFilterName&&(r=s.test("".concat(null===(a=e.name)||void 0===a?void 0:a.first," ").concat(null===(o=e.name)||void 0===o?void 0:o.last)));if(r)return e}));this.props.setAddressBookFiltered(a)}},{key:"render",value:function(){return o.a.createElement("div",{className:"address-search"},o.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.searchQuery,onChange:this.handleChange}))}}]),t}(a.Component),T=Object(r.b)((function(e){return{addressBooks:e.addressBooks}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(O(t))},setAddressBookFiltered:function(t){return e(S(t))}}}))(w),L=function(e){function t(){return v()(this,t),b()(this,g()(t).apply(this,arguments))}return A()(t,e),E()(t,[{key:"addressBooksComponent",value:function(){return this.props.addressBooksFiltered.map((function(e,t){return o.a.createElement(j,{key:e.email,item:e,index:t})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"address-sidebar"},o.a.createElement(T,null),o.a.createElement("ul",{className:"address-list",tabIndex:"0"},this.props.isLoading?"Loading":this.addressBooksComponent()))}}]),t}(a.Component),R=Object(r.b)((function(e){return{addressBooksFiltered:e.addressBooksFiltered}}))(L),P=function(e){function t(){return v()(this,t),b()(this,g()(t).apply(this,arguments))}return A()(t,e),E()(t,[{key:"emptyStateComponent",value:function(){return o.a.createElement("div",{className:"empty-state"},o.a.createElement("img",{src:"./images/empty-address-book.svg",width:"200",alt:"empty state address book detail"}),o.a.createElement("p",null,o.a.createElement("strong",null,"Please select a contact")))}},{key:"addressBookComponent",value:function(){var e,t,n,a,s,r,l,i,d,c,u="".concat(null===(e=this.props.addressBook.name)||void 0===e?void 0:e.first," ").concat(null===(t=this.props.addressBook.name)||void 0===t?void 0:t.last),p=null===(n=this.props.addressBook.picture)||void 0===n?void 0:n.large,m="".concat(null===(a=this.props.addressBook.location)||void 0===a||null===(s=a.street)||void 0===s?void 0:s.number," ").concat(null===(r=this.props.addressBook.location)||void 0===r||null===(l=r.street)||void 0===l?void 0:l.name);return o.a.createElement("div",{className:"profile"},o.a.createElement("div",{className:"profile-head"},o.a.createElement("div",{className:"profile-photo"},o.a.createElement("img",{src:p,alt:u,width:"128"})),o.a.createElement("h3",null,u)),o.a.createElement("div",{className:"profile-section"},o.a.createElement("h4",null,"Contact"),o.a.createElement("div",{className:"profile-card"},o.a.createElement("p",{className:"title"},"Email"),o.a.createElement("p",{className:"subtitle"},o.a.createElement("a",{href:"mailto:".concat(this.props.addressBook.email)},this.props.addressBook.email)),o.a.createElement("p",{className:"title"},"Phone"),o.a.createElement("p",{className:"subtitle"},o.a.createElement("a",{href:"tel:".concat(this.props.addressBook.cell)},this.props.addressBook.cell)))),o.a.createElement("div",{className:"profile-section"},o.a.createElement("h4",null,"Location"),o.a.createElement("div",{className:"profile-card"},o.a.createElement("p",{className:"title"},"Address"),o.a.createElement("p",{className:"subtitle"},m),o.a.createElement("p",{className:"title"},"Zip Code"),o.a.createElement("p",{className:"subtitle"},null===(i=this.props.addressBook.location)||void 0===i?void 0:i.postcode),o.a.createElement("p",{className:"title"},"City"),o.a.createElement("p",{className:"subtitle"},null===(d=this.props.addressBook.location)||void 0===d?void 0:d.city),o.a.createElement("p",{className:"title"},"State"),o.a.createElement("p",{className:"subtitle"},null===(c=this.props.addressBook.location)||void 0===c?void 0:c.state))))}},{key:"render",value:function(){var e=this.props.addressBook?this.addressBookComponent():this.emptyStateComponent(),t=null!==this.props.selectedAddressBookIndex?" active":"";return o.a.createElement("div",{className:"address-detail".concat(t)},e)}}]),t}(a.Component),K=Object(r.b)((function(e){return{addressBook:null!==e.selectedAddressBookIndex?e.addressBooksFiltered[e.selectedAddressBookIndex]:null,selectedAddressBookIndex:e.selectedAddressBookIndex}}))(P),Q=function(e){function t(e){var n;return v()(this,t),(n=b()(this,g()(t).call(this,e))).state={isLoading:!1,page:1},n}var n;return A()(t,e),E()(t,[{key:"componentDidMount",value:function(){this.handleGetData()}},{key:"handleGetData",value:(n=h()(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:this.state.page,results:50,seed:"yop",exc:"gender,login,dob,registered,phone,nat"},this.setState({isLoading:!0}),e.next=4,N("",{},t);case 4:n=e.sent,this.setState({isLoading:!1}),this.props.addAddressBook((null==n?void 0:n.results)||[]),this.props.setAddressBookFiltered((null==n?void 0:n.results)||[]);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.isDarkModeEnabled?" dark-mode":"";return o.a.createElement("main",{className:"container".concat(e)},o.a.createElement(C,null),o.a.createElement(R,{isLoading:this.state.isLoading}),o.a.createElement(K,null))}}]),t}(a.Component),G=Object(r.b)((function(e){return{isDarkModeEnabled:e.isDarkModeEnabled}}),(function(e){return{addAddressBook:function(t){return e({type:"ADD_ADDRESS_BOOK",payload:t})},setAddressBookFiltered:function(t){return e(S(t))}}}))(Q),J=(n(30),document.getElementById("app"));J&&Object(s.render)(o.a.createElement(r.a,{store:c},o.a.createElement(G,null)),J)}});