!function(e){function t(t){for(var r,s,c=t[0],i=t[1],u=t[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={0:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([31,1]),n()}({30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),s=n(6),c=n(8),i={addressBooks:[],addressBooksFiltered:[],selectedAddressBookIndex:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return"ADD_ADDRESS_BOOK"===t.type?Object.assign({},e,{addressBooks:e.addressBooks.concat(t.payload)}):"EMPTY_ADDRESS_BOOK"===t.type?Object.assign({},e,{addressBooks:Object.assign({})}):"SET_SELECTED_ADDRESS_BOOK_INDEX"===t.type?Object.assign({},e,{selectedAddressBookIndex:t.payload}):"SET_SEARCH_QUERY"===t.type?Object.assign({},e,{setSearchQuery:t.payload}):e},l=Object(c.b)(u),d=n(13),p=n.n(d),h=n(16),f=n.n(h),m=n(1),y=n.n(m),v=n(2),E=n.n(v),g=n(3),b=n.n(g),k=n(4),S=n.n(k),O=n(5),B=n.n(O),x="https://randomuser.me/api",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=new URL("".concat(x).concat(e));return null!=n&&Object.keys(n).forEach((function(e){return r.searchParams.append(e,n[e])})),fetch(r,t).then((function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})})).catch((function(e){return console.log("Fetch exception",e)}))},A=function(e){function t(){return y()(this,t),b()(this,S()(t).apply(this,arguments))}return B()(t,e),E()(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app-title"},a.a.createElement("h1",null,"Address Book App"))}}]),t}(r.Component),j=function(e){function t(){return y()(this,t),b()(this,S()(t).apply(this,arguments))}return B()(t,e),E()(t,[{key:"handleFocus",value:function(){this.props.setSelectedAddressBookIndex(this.props.index)}},{key:"render",value:function(){var e=this,t=this.props.item,n=this.props.selectedAddressBookIndex===this.props.index&&"active";return a.a.createElement("li",{tabIndex:"0",className:"address-item ".concat(n),onFocus:function(){return e.handleFocus()}},a.a.createElement("img",{src:t.picture.thumbnail,width:"82",alt:"".concat(t.name.first," ").concat(t.name.last)}),a.a.createElement("div",null,a.a.createElement("h3",null,"".concat(t.name.first," ").concat(t.name.last)),a.a.createElement("p",null,"".concat(t.location.city,", ").concat(t.location.state,", ").concat(t.location.country))))}}]),t}(r.Component),D=Object(s.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e({type:"SET_SELECTED_ADDRESS_BOOK_INDEX",payload:t})}}}))(j),C=n(10),I=n.n(C),T=function(e){function t(e){var n,r,a,o,s;return y()(this,t),(n=b()(this,S()(t).call(this,e))).state={searchQuery:""},n.handleChange=n.handleChange.bind(I()(n)),n.doSearch=(r=n.doSearch,a=1e3,s=null,function(){var e=this,t=arguments,n=function(){s=null,o||r.apply(e,t)},c=o&&!s;clearTimeout(s),s=setTimeout(n,a),c&&r.apply(e,t)}),n}return B()(t,e),E()(t,[{key:"handleChange",value:function(e){var t=e.target.value;console.log(t),this.setState({searchQuery:t}),this.doSearch()}},{key:"doSearch",value:function(){this.props.emptyAddressBook(),console.log(this.state.searchQuery)}},{key:"render",value:function(){return a.a.createElement("div",{className:"address-search"},a.a.createElement("input",{type:"text",placeholder:"Search",onChange:this.handleChange}))}}]),t}(r.Component),w=Object(s.b)(null,(function(e){return{setSearchQuery:function(t){return e({type:"SET_SEARCH_QUERY",payload:t})},emptyAddressBook:function(){return e({type:"EMPTY_ADDRESS_BOOK"})}}}))(T),P=function(e){function t(){return y()(this,t),b()(this,S()(t).apply(this,arguments))}return B()(t,e),E()(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"address-sidebar"},a.a.createElement(w,null),a.a.createElement("ul",{className:"address-list",tabIndex:"0"},this.props.isLoading?"Loading":this.props.addressBooks))}}]),t}(r.Component),R=Object(s.b)((function(e){return{addressBooks:e.addressBooks.length>0&&e.addressBooks.map((function(e,t){return a.a.createElement(D,{key:t,item:e,index:t})}))}}))(P),L=function(e){function t(){return y()(this,t),b()(this,S()(t).apply(this,arguments))}return B()(t,e),E()(t,[{key:"render",value:function(){var e;return a.a.createElement("div",{className:"address-detail"},null===(e=this.props.addressBook.name)||void 0===e?void 0:e.first)}}]),t}(r.Component),N=Object(s.b)((function(e){return{addressBook:null!==e.selectedAddressBookIndex?e.addressBooks[e.selectedAddressBookIndex]:{}}}))(L),M=function(e){function t(e){var n;return y()(this,t),(n=b()(this,S()(t).call(this,e))).state={isLoading:!1},n}var n;return B()(t,e),E()(t,[{key:"componentDidMount",value:function(){this.handleGetData()}},{key:"handleGetData",value:(n=f()(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,results:50,seed:"yop",exc:"gender,login,registered,phone,nat"},this.setState({isLoading:!0}),e.next=4,_("",{},t);case 4:return n=e.sent,this.setState({isLoading:!1}),this.props.addAddressBook((null==n?void 0:n.results)||[]),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return a.a.createElement("main",{className:"container"},a.a.createElement(A,null),a.a.createElement(R,{isLoading:this.state.isLoading}),a.a.createElement(N,null))}}]),t}(r.Component),Q=Object(s.b)(null,(function(e){return{addAddressBook:function(t){return e({type:"ADD_ADDRESS_BOOK",payload:t})}}}))(M),K=(n(30),document.getElementById("app"));K&&Object(o.render)(a.a.createElement(s.a,{store:l},a.a.createElement(Q,null)),K)}});