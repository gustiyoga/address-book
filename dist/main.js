!function(e){function t(t){for(var r,o,i=t[0],l=t[1],d=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);p.length;)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;s.push([32,1]),n()}({31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(9),o=n(1),i=n(10),l=n(11),d=n.n(l);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={addressBooks:[],addressBooksFiltered:[],selectedAddressBookIndex:null,isDarkModeEnabled:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ADDRESS_BOOK":var n=t.payload.map((function(e,t){return u({},e,{index:"".concat(e.email).concat(t)})}));return u({},e,{addressBooks:e.addressBooks.concat(n)});case"SET_SELECTED_ADDRESS_BOOK_INDEX":return u({},e,{selectedAddressBookIndex:t.payload});case"SET_ADDRESS_BOOK_FILTERED":return u({},e,{addressBooksFiltered:[].concat(t.payload)});case"SET_DARK_MODE":return u({},e,{isDarkModeEnabled:t.payload});default:return e}},m=Object(i.b)(h),f=n(8),v=n.n(f),k=n(15),b=n.n(k),E=n(2),y=n.n(E),g=n(3),B=n.n(g),O=n(4),x=n.n(O),D=n(5),S=n.n(D),N=n(7),j=n.n(N),A=n(6),P=n.n(A),w=function(e){return{type:"SET_SELECTED_ADDRESS_BOOK_INDEX",payload:e}},I=function(e){return{type:"SET_ADDRESS_BOOK_FILTERED",payload:e}},_="https://randomuser.me/api",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=new URL("".concat(_).concat(e));return null!=n&&Object.keys(n).forEach((function(e){return r.searchParams.append(e,n[e])})),fetch(r,t).then((function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})})).catch((function(e){return console.log("Fetch exception",e)}))},M=function(e){function t(){return y()(this,t),x()(this,S()(t).apply(this,arguments))}return P()(t,e),B()(t,[{key:"handleBackButton",value:function(){this.props.setSelectedAddressBookIndex(null)}},{key:"handleDarkModeButton",value:function(){this.props.setDarkMode(!this.props.isDarkModeEnabled)}},{key:"backButtonComponent",value:function(){var e=this;return a.a.createElement("img",{className:"button-back",src:"./images/ic-back.svg",title:"Back",onClick:function(){return e.handleBackButton()}})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"app-title"},null!==this.props.selectedAddressBookIndex&&this.backButtonComponent(),a.a.createElement("h1",null,"Address Book App"),a.a.createElement("img",{className:"button-darkmode",src:this.props.isDarkModeEnabled?"./images/ic-dark-enabled.svg":"./images/ic-dark-disabled.svg",title:this.props.isDarkModeEnabled?"Turn off dark mode":"Turn on dark mode",onClick:function(){return e.handleDarkModeButton()}}))}}]),t}(r.Component),F=Object(o.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex,isDarkModeEnabled:e.isDarkModeEnabled}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(w(t))},setDarkMode:function(t){return e({type:"SET_DARK_MODE",payload:t})}}}))(M),T=function(e){function t(){return y()(this,t),x()(this,S()(t).apply(this,arguments))}return P()(t,e),B()(t,[{key:"handleFocus",value:function(){this.props.setSelectedAddressBookIndex(this.props.index)}},{key:"render",value:function(){var e,t,n,r,s,o,i,l,d=this,c=this.props.item,u=this.props.selectedAddressBookIndex===this.props.index?" active":"";return a.a.createElement("li",{tabIndex:"0",className:"address-item".concat(u),onFocus:function(){return d.handleFocus()}},a.a.createElement("img",{src:null===(e=c.picture)||void 0===e?void 0:e.thumbnail,width:"82",alt:"".concat(null===(t=c.name)||void 0===t?void 0:t.first," ").concat(null===(n=c.name)||void 0===n?void 0:n.last)}),a.a.createElement("div",null,a.a.createElement("p",{className:"name"},a.a.createElement("strong",null,"".concat(null===(r=c.name)||void 0===r?void 0:r.first," ").concat(null===(s=c.name)||void 0===s?void 0:s.last))),a.a.createElement("p",null,"".concat(null===(o=c.location)||void 0===o?void 0:o.city,", ").concat(null===(i=c.location)||void 0===i?void 0:i.state,", ").concat(null===(l=c.location)||void 0===l?void 0:l.country))))}}]),t}(r.Component),L=Object(o.b)((function(e){return{selectedAddressBookIndex:e.selectedAddressBookIndex}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(w(t))}}}))(T),R=function(e){function t(e){var n;return y()(this,t),(n=x()(this,S()(t).call(this,e))).state={searchQuery:"",isFilterName:!0},n.handleChange=n.handleChange.bind(j()(n)),n}return P()(t,e),B()(t,[{key:"handleChange",value:function(e){var t=this,n=e.target.value;this.props.setSelectedAddressBookIndex(null),this.setState({searchQuery:n});var r=this.props.addressBooks.filter((function(e){var r,a,s=new RegExp(n,"gi"),o=!1;t.state.isFilterName&&(o=s.test("".concat(null===(r=e.name)||void 0===r?void 0:r.first," ").concat(null===(a=e.name)||void 0===a?void 0:a.last)));if(o)return e}));this.props.setAddressBookFiltered(r)}},{key:"render",value:function(){return a.a.createElement("div",{className:"address-search"},a.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.searchQuery,onChange:this.handleChange}))}}]),t}(r.Component),K=Object(o.b)((function(e){return{addressBooks:e.addressBooks}}),(function(e){return{setSelectedAddressBookIndex:function(t){return e(w(t))},setAddressBookFiltered:function(t){return e(I(t))}}}))(R),H=function(e){function t(e){var n;return y()(this,t),(n=x()(this,S()(t).call(this,e))).handleScroll=n.handleScroll.bind(j()(n)),n}return P()(t,e),B()(t,[{key:"handleScroll",value:function(e){e.target.scrollHeight-e.target.scrollTop<=e.target.clientHeight+300&&this.props.handleNextPage()}},{key:"addressBooksComponent",value:function(){return this.props.addressBooksFiltered.map((function(e,t){return a.a.createElement(L,{key:e.index,item:e,index:t})}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"address-sidebar"},a.a.createElement(K,null),a.a.createElement("ul",{className:"address-list",tabIndex:"0",onScroll:this.handleScroll},this.props.isLoading?"Loading":this.addressBooksComponent()))}}]),t}(r.Component),Q=Object(o.b)((function(e){return{addressBooksFiltered:e.addressBooksFiltered}}))(H),J=function(e){function t(){return y()(this,t),x()(this,S()(t).apply(this,arguments))}return P()(t,e),B()(t,[{key:"emptyStateComponent",value:function(){return a.a.createElement("div",{className:"empty-state"},a.a.createElement("img",{src:"./images/empty-address-book.svg",width:"200",alt:"empty state address book detail"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Please select a contact")))}},{key:"addressBookComponent",value:function(){var e,t,n,r,s,o,i,l,d,c,u="".concat(null===(e=this.props.addressBook.name)||void 0===e?void 0:e.first," ").concat(null===(t=this.props.addressBook.name)||void 0===t?void 0:t.last),p=null===(n=this.props.addressBook.picture)||void 0===n?void 0:n.large,h="".concat(null===(r=this.props.addressBook.location)||void 0===r||null===(s=r.street)||void 0===s?void 0:s.number," ").concat(null===(o=this.props.addressBook.location)||void 0===o||null===(i=o.street)||void 0===i?void 0:i.name);return a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"profile-head"},a.a.createElement("div",{className:"profile-photo"},a.a.createElement("img",{src:p,alt:u,width:"128"})),a.a.createElement("h3",null,u)),a.a.createElement("div",{className:"profile-section"},a.a.createElement("h4",null,"Contact"),a.a.createElement("div",{className:"profile-card"},a.a.createElement("p",{className:"title"},"Email"),a.a.createElement("p",{className:"subtitle"},a.a.createElement("a",{href:"mailto:".concat(this.props.addressBook.email)},this.props.addressBook.email)),a.a.createElement("p",{className:"title"},"Phone"),a.a.createElement("p",{className:"subtitle"},a.a.createElement("a",{href:"tel:".concat(this.props.addressBook.cell)},this.props.addressBook.cell)))),a.a.createElement("div",{className:"profile-section"},a.a.createElement("h4",null,"Location"),a.a.createElement("div",{className:"profile-card"},a.a.createElement("p",{className:"title"},"Address"),a.a.createElement("p",{className:"subtitle"},h),a.a.createElement("p",{className:"title"},"Zip Code"),a.a.createElement("p",{className:"subtitle"},null===(l=this.props.addressBook.location)||void 0===l?void 0:l.postcode),a.a.createElement("p",{className:"title"},"City"),a.a.createElement("p",{className:"subtitle"},null===(d=this.props.addressBook.location)||void 0===d?void 0:d.city),a.a.createElement("p",{className:"title"},"State"),a.a.createElement("p",{className:"subtitle"},null===(c=this.props.addressBook.location)||void 0===c?void 0:c.state))))}},{key:"render",value:function(){var e=this.props.addressBook?this.addressBookComponent():this.emptyStateComponent(),t=null!==this.props.selectedAddressBookIndex?" active":"";return a.a.createElement("div",{className:"address-detail".concat(t)},e)}}]),t}(r.Component),X=Object(o.b)((function(e){return{addressBook:null!==e.selectedAddressBookIndex?e.addressBooksFiltered[e.selectedAddressBookIndex]:null,selectedAddressBookIndex:e.selectedAddressBookIndex}}))(J);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){function t(e){var n;return y()(this,t),(n=x()(this,S()(t).call(this,e))).state={isLoading:!1,isHandleNextPage:!1,params:{page:1,results:50,seed:"yop",exc:"gender,login,dob,registered,phone,nat"}},n.handleNextPage=n.handleNextPage.bind(j()(n)),n}var n,r;return P()(t,e),B()(t,[{key:"componentDidMount",value:function(){this.handleInitData()}},{key:"handleNextPage",value:(r=b()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.isHandleNextPage||!(this.props.addressBooks.length<1e3)){e.next=10;break}return e.next=3,this.setState((function(e){return{isHandleNextPage:!0,params:Z({},e.params,{page:e.params.page+1})}}));case 3:return e.next=5,C("",{},this.state.params);case 5:return t=e.sent,e.next=8,this.props.addAddressBook((null==t?void 0:t.results)||[]);case 8:this.props.setAddressBookFiltered(this.props.addressBooks),this.setState({isHandleNextPage:!1});case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"handleInitData",value:(n=b()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,C("",{},this.state.params);case 3:return t=e.sent,this.setState({isLoading:!1}),e.next=7,this.props.addAddressBook((null==t?void 0:t.results)||[]);case 7:this.props.setAddressBookFiltered(this.props.addressBooks);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.isDarkModeEnabled?" dark-mode":"";return a.a.createElement("main",{className:"container".concat(e)},a.a.createElement(F,null),a.a.createElement(Q,{isLoading:this.state.isLoading,handleNextPage:this.handleNextPage}),a.a.createElement(X,null))}}]),t}(r.Component),z=Object(o.b)((function(e){return{addressBooks:e.addressBooks,isDarkModeEnabled:e.isDarkModeEnabled}}),(function(e){return{addAddressBook:function(t){return e({type:"ADD_ADDRESS_BOOK",payload:t})},setAddressBookFiltered:function(t){return e(I(t))}}}))(q),G=(n(31),document.getElementById("app"));G&&Object(s.render)(a.a.createElement(o.a,{store:m},a.a.createElement(z,null)),G)}});